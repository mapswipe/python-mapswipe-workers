<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>User Group Management | MapSwipe</title>
    <meta name="description"
      content="Humanitarian organisations can&#39;t help people if they can&#39;t find them. MapSwipe is a mobile app that lets you search satellite imagery to help put the world&#39;s most vulnerable people on the map.">
    <meta property="og:title" content="Add Project | MapSwipe">
    <meta property="og:description"
      content="Humanitarian organisations can&#39;t help people if they can&#39;t find them. MapSwipe is a mobile app that lets you search satellite imagery to help put the world&#39;s most vulnerable people on the map.">
    <meta property="og:image" content="http://mapswipe.org/images/og-img.jpg">
    <meta name="twitter:card" content="summary">
    <meta name="viewport" content="width=device-width, initial-scale=1">

      <!-- add firebase -->
    <script src="https://cdn.firebase.com/libs/firebaseui/4.0.0/firebaseui.js"></script>
    <link type="text/css" rel="stylesheet" href="https://cdn.firebase.com/libs/firebaseui/4.0.0/firebaseui.css" />

    <!-- add jquery, ajax -->
    <script src="https://code.jquery.com/jquery-3.3.1.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>

    <!-- Add Bootstrap -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>

    <!-- Add Data Tables -->
    <link rel="stylesheet" href="https://cdn.datatables.net/1.10.20/css/dataTables.bootstrap.min.css">
    <script src="https://cdn.datatables.net/1.10.20/js/jquery.dataTables.min.js"></script>

    <!-- add mapswipe styles -->
    <link type="text/css" rel="stylesheet" href="css/mapswipe.css" />

    <!-- add sentry -->
    <script
    src="https://browser.sentry-cdn.com/5.7.1/bundle.min.js"
    integrity="sha384-KMv6bBTABABhv0NI+rVWly6PIRvdippFEgjpKyxUcpEmDWZTkDOiueL5xW+cztZZ"
    crossorigin="anonymous"></script>
    <script>
    Sentry.init({ dsn: 'https://30340378d1e5495ca7c4d7c8751f0cba@sentry.io/1788403' });
    </script>

  </head>
  <body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
      <a class="navbar-brand" href="index.html">
        <img src="images/mapswipe-logo.svg" height="40"  alt="">
      </a>
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>

      <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="navbar-nav mr-auto">
          <li class="nav-item">
            <a class="nav-link" href="create.html">CREATE PROJECTS</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="tutorial.html">CREATE TUTORIAL</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="manage.html">MANAGE PROJECTS</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="teams.html">MANAGE TEAMS</a>
          </li>
          <li class="nav-item active">
            <a class="nav-link" href="usergroup.html">USER GROUPS</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="index.html">LOGIN</a>
          </li>
        </ul>
        <form class="form-inline my-2 my-lg-0">
          <button id="sign-out" class="btn btn-primary" style="display: none">Log Out</button>
        </form>
      </div>
    </nav>

    <div id="not-signed-in" class="container">
      <div class="row justify-content-center">
        <h3>Please <a href="index.html">log in</a> first.</h3>
      </div>
    </div>

    <div class="section" id="not-signed-in">
      <div id="firebaseui-auth-container"></div>
    </div>
    <div class="section" id="signed-in-manager" style="display: none">
      <div class="container py-5 d-flex flex-row justify-content-end">
        <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#add-usergroup-modal">
          Add New User Group
        </button>
      </div>

      <div class="container" >
        <!-- manage user group -->
        <div class="row justify-content-center" id="user-group-management" style="display: block">
          <div id="groups" class="col-md-12 user-group--data">
            <h2>User Groups</h2>
            <p>These groups are currently set up in the MapSwipe app.</p>
            <table id="user-groups-table" class="table table-striped table-bordered">
              <thead>
                <tr class="thead-inverse">
                  <th>Name</th>
                  <th>Description</th>
                  <th>Members</th>
                </tr>
              </thead>
              <tbody>
                <!-- will be added by function -->
              </tbody>
            </table>
            <!-- Group Members -->
            <h2 id="user-group-members-title">User Group Members</h2>
            <p>Click the button for one of the user group above to display team members. (Note: this shows all contributions and thus might also contain contributions to non-private projects.</p>
            <table id="group-members-table" class="table table-striped table-bordered">
              <thead>
                <tr class="thead-inverse">
                  <th>User ID</th>
                  <th>User Name</th>
                  <th>Project Contributions</th>
                  <th>Group Contributions</th>
                  <th>Task Contributions</th>
                </tr>
              </thead>
              <tbody>
                <!-- will be added by function -->
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>

    <footer class="footer">
      <div class="container" align="center">
        <span class="text-muted">Copyright Â© 2019 MapSwipe</span>
      </div>
    </footer>

    <div class="modal fade" tabindex="-1" role="dialog" id="add-usergroup-modal" aria-labelledby="Add user group" aria-hidden="true">
      <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title">
              Create a new user group
            </h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            <div class="row">
              <div class="col-md-12">
                <h3>User group Information</h3>
                <form class="form-style-7" id="usergroup-form">
                  <ul>
                    <li>
                      <label for="usergroup-name">Name</label>
                      <input type="text" name="usergroupName" id="usergroup-name" maxlength="30" required>
                      <span>Enter the name of user group (30 chars max).</span>
                    </li>
                    <li>
                      <label for="usergroup-description">Description</label>
                      <input type="text" name="usergroupDescription" id="usergroup-description" maxlength="100">
                      <span>Enter the short description of user group (100 chars max)</span>
                    </li>
                    <li></li>
                  </ul>
                </form>
              </div>
            </div>
            <div class="row hidden" id="add-usergroup-modal-loading-message-container">
              <div class="col-md-12">
                <div id="add-usergroup-modal-loading-message">
                  Please wait...
                </div>
              </div>
            </div>
          </div>
          <div class="modal-footer">
            <button class="btn btn-primary" type="button" id="usergroup-submit" onClick="submitNewUserGroup()">
              Submit
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script> -->
    <script src="https://www.gstatic.com/firebasejs/6.2.4/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/6.2.4/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/6.2.4/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/6.2.4/firebase-database.js"></script>
    <script async defer src="js/app.js"></script>
    <script async defer src="js/ui.js"></script>
    <script async defer src="js/usergroup-management.js"></script>

  </body>
</html>
